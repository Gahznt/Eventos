{# src/layouts/base.html.twig #}
{% extends 'base.html.twig' %}
{% block body %}
    <div class="container">
        <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                <a href="{{ path('system_evaluation_activities', {'edition' : edition.id}) }}" class="nav-item nav-link tab-6" id="nav-1">
                    {{ 'LISTAGEM DE<br/>ATIVIDADES'|trans|raw }}
                </a>
                <a class="nav-item nav-link tab-6 active" id="nav-2" data-toggle="tab" href="#tab-2" role="tab">
                    {{ 'DADOS DA<br/>ATIVIDADE'|trans|raw }}
                </a>
            </div>
        </nav>
        <div class="tab-content">
            <div class="tab-pane show active" id="tab-2" role="tabpanel">

                <h3>
                    Atividade #{{ activity.titlePortuguese }}
                </h3>
                <div class="card-body">
                    <div class="row form mt-0">
                        {% if 1 == activity.isGlobal %}
                            <div class="col-md-12 div-readonly">
                                <div class="value"><i class="fa fa-check text-success mr-2"></i> {{ 'Atividade Global (aba ANPAD na Programação Detalhada)'|trans }}</div>
                            </div>
                        {% endif %}

                        <div class="col-md-4 div-readonly">
                            <div class="label">{{ 'Tipo'|trans }}</div>
                            <div class="value">{{ constant('ACTIVITY_TYPES', activity)|array_flip()[activity.activityType]|trans }}</div>
                        </div>

                        <div class="col-md-4 div-readonly">
                            <div class="label">{{ 'Divisão'|trans }}</div>
                            <div class="value">
                                {% if 1 == activity.isGlobal %}
                                    ANPAD
                                {% else %}
                                    {{ activity.division.name }}
                                {% endif %}
                            </div>
                        </div>

                        <div class="col-md-4 div-readonly">
                            <div class="label">{{ 'Idioma'|trans }}</div>
                            <div class="value">{{ constant('ACTIVITY_LANGUAGES', activity)|array_flip()[activity.language]|trans }}</div>
                        </div>

                        <div class="col-md-12 div-readonly">
                            <div class="label">{{ 'Título'|trans }}</div>
                            <div class="value">{{ activity.titlePortuguese }}</div>
                        </div>

                        <div class="col-md-12 div-readonly">
                            <div class="label">{{ 'Descrição'|trans }}</div>
                            <div class="value">{{ activity.descriptionPortuguese|raw }}</div>
                        </div>

                        {% if activity.panelists|length > 0 %}
                            <div class="col-12 col-lg-12 mt-3 mb-2 div-readonly">
                                <h3>{{ 'Painelistas'|trans }} ({{ activity.panelists|length }})</h3>
                            </div>
                            {% for panelist in activity.panelists %}
                                <div class="col-md-12 div-readonly">
                                    <div class="label">{{ 'Name'|trans }}</div>
                                    <div class="value">{{ panelist.panelist.name }}</div>
                                </div>
                            {% endfor %}
                        {% endif %}

                        {% if activity.guests|length > 0 %}
                            <div class="col-12 col-lg-12 mt-3 mb-2 div-readonly">
                                <h3>{{ 'Convidados'|trans }} ({{ activity.guests|length }})</h3>
                            </div>
                            {% for guest in activity.guests %}
                                {% set name = guest.name %}
                                {% if name is empty and guest.guest is not empty %}
                                    {% set name = guest.guest.name %}
                                {% endif %}

                                <div class="col-md-12 div-readonly">
                                    <div class="label">{{ 'Name'|trans }}</div>
                                    <div class="value">{{ name }}</div>
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>

            </div>
        </div>
    </div>
{% endblock %}
